<?xml version="1.0" encoding="utf-8"?>
<resources>
    <!-- database/table names -->
    <string name="db_name">echobond</string>
    <!-- thought related -->
    <string name="tbl_home_t">home_thought</string>
    <string name="tbl_hot_t">hot_thought</string>
    <string name="tbl_t_tag">thought_tag</string>
    <string name="tbl_t_cmt">thought_comment</string>
	<!-- user related -->
    <string name="tbl_msg">user_msg</string>
    <string name="tbl_usr">user</string>
    <string name="tbl_lusr">login_user</string>
    <!-- values related -->
    <string name="tbl_ctgr">category</string>
    <string name="tbl_grp">group</string>
    <string name="tbl_country">country</string>
    <string name="tbl_tag">tag</string>
    <!-- user actions -->
    <string name="tbl_utag">user_tag</string>
    <string name="tbl_flwgrp">follow_group</string>
    <string name="tbl_ltag">like_tag</string>
    <string name="tbl_tag_slf">tag_self</string>
    
    <!-- tables creation -->
	<string name="sql_c_home_t">
	    CREATE TABLE IF NOT EXISTS `home_thought`(
	    	`_id` INTEGER PRIMARY KEY,
	    	`user_id` varchar(255) NOT NULL,
	    	`lang_id` INTEGER DEFAULT NULL,
	    	`category_id` INTEGER DEFAULT NULL,
	    	`group_id` INTEGER DEFAULT NULL,
	    	`content` varchar(255) NOT NULL,
	    	`image` varchar(255) DEFAULT NULL,
	    	`time` varchar(255) NOT NULL,
	    	`boost` INTEGER NOT NULL DEFAULT 0,
	    	`isUserBoost` INTEGER NOT NULL DEFAULT 0)
	</string>
   	<string name="sql_c_hot_t">
	    CREATE TABLE IF NOT EXISTS `hot_thought`( 
	    	`_id` INTEGER PRIMARY KEY,
	    	`user_id` varchar(255) NOT NULL,
	    	`lang_id` INTEGER DEFAULT NULL,
	    	`category_id` INTEGER DEFAULT NULL,
	    	`group_id` INTEGER DEFAULT NULL,
	    	`content` varchar(255) NOT NULL,
	    	`image` varchar(255) DEFAULT NULL,
	    	`time` varchar(255) NOT NULL,
	    	`boost` INTEGER NOT NULL DEFAULT 0,
	    	`isUserBoost` INTEGER NOT NULL DEFAULT 0)
	</string>
   	<string name="sql_c_t_tags">
   	   	CREATE TABLE IF NOT EXISTS `thought_tag`(
   	   		`_id` INTEGER PRIMARY KEY,
   	   		`user_id` varchar(255),
   	   		`thought_id` INTEGER NOT NULL,
   	   		`tag_id` INTEGER NOT NULL,
   	   		`tag` INTEGER NOT NULL DEFAULT 1)
   	</string>
   	<string name="sql_c_t_comment">
		CREATE TABLE IF NOT EXISTS `thought_comment`(
			`_id` INTEGER PRIMARY KEY,
			`user_id` varchar(255) NOT NULL,
			`username` varchar(255) NOT NULL,
			`thought_id` INTEGER NOT NULL,
			`reply_to` INTEGER NOT NULL DEFAULT 0,
			`content` varchar(255) NOT NULL,
			`time` varchar(255) NOT NULL)
	</string>
	<string name="sql_c_msg">
	    CREATE TABLE IF NOT EXISTS `user_msg`(
	    	`_id` INTEGER PRIMARY KEY,
	    	`username` varchar(255) NOT NULL,
	    	`sender_id` varchar(255) NOT NULL,
	    	`recver_id` varchar(255) NOT NULL,
	    	`time` varchar(255) NOT NULL,
	    	`content` varchar(255) NOT NULL,
	    	`is_read` INTEGER NOT NULL DEFAULT 0)
   	</string>
   	<string name="sql_c_user">
		CREATE TABLE IF NOT EXISTS `user`(
			`_id` varchar(255) PRIMARY KEY,
			`username` varchar(255) DEFAULT NULL,
			`password` varchar(255) DEFAULT NULL,
			`fb_id` varchar(255) DEFAULT NULL,
			`first_name` varchar(255) DEFAULT NULL,
			`last_name` varchar(255) DEFAULT NULL,
			`name` varchar(255) DEFAULT NULL,
			`time_zone` INTEGER DEFAULT NULL,
			`email` varchar(255) DEFAULT NULL,
			`avatar` varchar(255) DEFAULT NULL,
			`gender` varchar(255) DEFAULT NULL,
			`age` INTEGER DEFAULT NULL,
			`birthday` varchar(255) DEFAULT NULL,
			`country_id` INTEGER DEFAULT NULL,
			`home_id` INTEGER DEFAULT NULL,
			`bio` varchar(255) DEFAULT NULL,
			`sth_interesting` varchar(255) DEFAULT NULL,
			`amz_exp` varchar(255) DEFAULT NULL,
			`to_do` varchar(255) DEFAULT NULL,
			`philosophy` varchar(255) DEFAULT NULL,
			`friends_desc` varchar(255) DEFAULT NULL,
			`interest` varchar(255) DEFAULT NULL,
			`little_secret` varchar(255) DEFAULT NULL,
			`lang_id` INTEGER DEFAULT NULL,
			`locale` varchar(255) DEFAULT NULL,
			`verified` INTEGER NOT NULL DEFAULT 0)   	    
   	</string>
   	<string name="sql_c_luser">
		CREATE TABLE IF NOT EXISTS `login_user`(
			`_id` varchar(255) PRIMARY KEY,
			`username` varchar(255) DEFAULT NULL,
			`password` varchar(255) DEFAULT NULL,
			`fb_id` varchar(255) DEFAULT NULL,
			`first_name` varchar(255) DEFAULT NULL,
			`last_name` varchar(255) DEFAULT NULL,
			`name` varchar(255) DEFAULT NULL,
			`time_zone` INTEGER DEFAULT NULL,
			`email` varchar(255) DEFAULT NULL,
			`avatar` varchar(255) DEFAULT NULL,
			`gender` varchar(255) DEFAULT NULL,
			`age` INTEGER DEFAULT NULL,
			`birthday` varchar(255) DEFAULT NULL,
			`country_id` INTEGER DEFAULT NULL,
			`home_id` INTEGER DEFAULT NULL,
			`occupation` varchar(255) DEFAULT NULL,
			`amz_exp` varchar(255) DEFAULT NULL,
			`to_do` varchar(255) DEFAULT NULL,
			`philosophy` varchar(255) DEFAULT NULL,
			`friends_desc` varchar(255) DEFAULT NULL,
			`interest` varchar(255) DEFAULT NULL,
			`little_secret` varchar(255) DEFAULT NULL,
			`lang_id` INTEGER DEFAULT NULL,
			`locale` varchar(255) DEFAULT NULL,
			`verified` INTEGER NOT NULL DEFAULT 0)
   	</string>
   	<string name="sql_c_category">
		CREATE TABLE IF NOT EXISTS `category`(
			`_id` INTEGER PRIMARY KEY, 
			`name` varchar(255))
   	</string>
	<string name="sql_c_group">
	    CREATE TABLE IF NOT EXISTS `group`(
	    	`_id` INTEGER PRIMARY KEY,
	    	`name` varchar(255))
    </string>
	<string name="sql_c_country">
	    CREATE TABLE IF NOT EXISTS `country`(
	    	`_id` INTEGER PRIMARY KEY,
	    	`name` varchar(255))
   	</string>
	<string name="sql_c_tag">
	    CREATE TABLE IF NOT EXISTS `tag`(
	    	`_id` INTEGER PRIMARY KEY,
	    	`name` varchar(255))
 	</string>
	<string name="sql_c_user_tag">
	    CREATE TABLE IF NOT EXISTS `user_tag`(
	    	`_id` INTEGER PRIMARY KEY,
	    	`name` varchar(255))
   	</string>
	<string name="sql_c_flw_grp">
	    CREATE TABLE IF NOT EXISTS `follow_group`(
	    	`_id` INTEGER PRIMARY KEY,
	    	`user_id` varchar(255) NOT NULL,
	    	`group_id` INTEGER NOT NULL,
	    	`follow` INTEGER NOT NULL DEFAULT 1)
   	</string>
	<string name="sql_c_lk_tag">
	    CREATE TABLE IF NOT EXISTS `like_tag`(
	    	`_id` INTEGER PRIMARY KEY,
	    	`user_id` varchar(255) NOT NULL,
	    	`tag_id` INTEGER NOT NULL,
	    	`tag` INTEGER NOT NULL DEFAULT 1)
   	</string>
	<string name="sql_c_tag_slf">
	    CREATE TABLE IF NOT EXISTS `tag_self`(
	    	`_id` INTEGER PRIMARY KEY,
	    	`user_id` varchar(255) NOT NULL,
	    	`user_tag_id` INTEGER NOT NULL,
	    	`tag` INTEGER NOT NULL DEFAULT 1)
   	</string>
	
	<!-- thought_home -->
	<string name="sql_i_t_home">
	    INSERT INTO `home_thought`(`_id`,`user_id`,`lang_id`,`category_id`,`group_id`,`content`,`image`, 
	    	`time`,`boost`) VALUES (?,?,?,?,?,?,?,?);
	</string>
	<string name="sql_s_t_home">
	    SELECT t.`_id`,t.`user_id`,u.`username`,t.`lang_id`,t.`category_id`,c.`name` AS category_name,t.`group_id`,
	    	g.`name` AS group_name,t.`content`,t.`image`,t.`time`,t.`boost`,COUNT(tc.`_id`) AS num_of_cmt, t.`isUserBoost`
	    FROM `home_thought` AS t
	    LEFT JOIN `user` AS u ON t.`user_id` = u.`_id`
	    LEFT JOIN `category` AS c ON t.`category_id` = c.`_id`
	    LEFT JOIN `group` AS g ON t.`group_id` = g.`_id`
	    LEFT JOIN `thought_comment` AS tc ON t.`_id` = tc.`thought_id`
	    GROUP BY t.`_id`
	    ORDER BY t.`_id` DESC
	    LIMIT ? OFFSET ?
	</string>
	<string name="load_home_t_tags">
	    SELECT t.`_id`, tt.`tag_id`, tg.`name` FROM `home_thought` AS t
	    LEFT JOIN `thought_tag` AS tt ON t.`_id` = tt.`thought_id`
	    LEFT JOIN `tag` AS tg ON tt.`tag_id` = tg.`_id`
	    WHERE t.`_id` = ?
	</string>
	<string name="load_home_t_comments">
	    SELECT tc.`_id`,tc.`user_id`,tc.`username`,tc.`content` FROM `thought_comment` AS tc
	    LEFT JOIN `home_thought` AS t ON tc.`thought_id` = t.`_id`
	    WHERE tc.`thought_id` = ?
	    LIMIT ? OFFSET ?
	</string>
	<string name="boost_home_t">
	    UPDATE home_thought SET `boost` = `boost` + ?
	</string>
	
	<!-- thought_hot -->
	<string name="add_t_hot">
	    INSERT INTO `hot_thought`(`_id`,`user_id`,`lang_id`,`category_id`,`group_id`,`content`,`image`,
	    	`time`,`boost`) VALUES (?,?,?,?,?,?,?,?,?);
	</string>
	<string name="sql_s_t_hot">
	    SELECT t.`_id`,t.`user_id`,u.`username`,t.`lang_id`,t.`category_id`,c.`name` AS category_name,t.`group_id`,
	    	g.`name` AS group_name,t.`content`,t.`image`,t.`time`,t.`boost`,COUNT(tc.`_id`) AS num_of_cmt, t.`isUserBoost`
	    FROM `hot_thought` AS t
	    LEFT JOIN `user` AS u ON t.`user_id` = u.`_id`
	    LEFT JOIN `category` AS c ON t.`category_id` = c.`_id`
	    LEFT JOIN `group` AS g ON t.`group_id` = g.`_id`
	    LEFT JOIN `thought_comment` AS tc ON t.`_id` = tc.`thought_id`
	    GROUP BY t.`_id`
	    ORDER BY t.`boost` DESC, t.`_id` DESC
	    LIMIT ? OFFSET ?
	</string>
	<string name="load_hot_t_tags">
	    SELECT t.`_id`, tt.`tag_id`, tg.`name` FROM `hot_thought` AS t
	    LEFT JOIN `thought_tag` AS tt ON t.`_id` = tt.`thought_id`
	    LEFT JOIN `tag` AS tg ON tt.`tag_id` = tg.`_id`
	    WHERE t.`_id` = ?
	</string>
	<string name="load_hot_t_cmt">
	    SELECT tc.`_id`,tc.`content` FROM `thought_comment` AS tc
	    LEFT JOIN `hot_thought` AS t ON tc.`thought_id` = t.`_id`
	    WHERE tc.`thought_id` = ?
	    LIMIT ? OFFSET ?
	</string>
	
	<!-- comment -->
	<string name="sql_i_cmt">
	   	INSERT INTO thought_comment(`_id`,`user_id`,`thought_id`,`reply_to`,`content`,`time`) VALUES(?,?,?,?,?,?)
	</string>
	<string name="sql_s_cmt">
	    SELECT * FROM `thought_comment` WHERE `thought_id` = ? ORDER BY `time` DESC
	</string>
	
	<!-- chat -->
	<string name="sql_i_msg">
	    INSERT INTO `user_msg`(`_id`,`sender_id`,`recver_id`,`time`,`content`) VALUES (?,?,?,?,?)
	</string>
	<string name="sql_s_count_unread_msg">
	    SELECT COUNT(`_id`) AS count FROM `user_msg` WHERE `recver_id` = ? AND is_read = 0
	</string>
	<string name="sql_s_msg">
		SELECT * FROM (
	    	SELECT * FROM `user_msg` WHERE (`sender_id` = ? AND `recver_id` = ?) OR (`sender_id` = ? AND `recver_id` = ?) 
				ORDER BY `time` DESC LIMIT ? OFFSET ?) AS msg ORDER BY `time` ASC    
	</string>
	<string name="sql_s_msg_list">
		SELECT msg._id, msg.sender_id, msg.recver_id, msg.time, msg.content, msg.username, msg.is_read FROM `user_msg` AS msg 
		JOIN 
		(SELECT usr, with_usr, MAX(time) AS msg_time FROM (
	    	SELECT `sender_id` AS usr, `recver_id` AS with_usr, `time` FROM `user_msg` 
	    	UNION
	    	SELECT `recver_id` AS usr, `sender_id` AS `with_usr`, `time` FROM `user_msg` 
	    	) AS ud GROUP BY usr, with_usr
	  	) AS maxud 
	  	ON (msg.time=maxud.msg_time AND maxud.usr IN (msg.sender_id,msg.recver_id))
		WHERE usr = ? ORDER BY `time` DESC
	    <!-- this queries all
		SELECT * FROM `user_msg` AS msg WHERE `time` IN (
			SELECT MAX(`time`) FROM `user_msg`
				WHERE `sender_id` = msg.sender_id AND `recver_id` = msg.recver_id
				OR `sender_id` = msg.recver_id and `recver_id` = msg.sender_id
		) ORDER BY `time` DESC
		-->		
	</string>
	
	<!-- user -->
	<string name="add_user">
	    INSERT INTO `user`(`id`,`user_name`,`password`,`fb_Id`,`first_name`,`last_name`,`name`,`time_zone`,
	    `email`,`avatar`,`gender`,`age`,`birthday`,`country_id`,`home_id`,`bio`,`sth_interesting`,`amz_exp`,`to_do`,
	    `philosophy`,`friends_desc`,`interest`,`little_secret`,`lang_id`,`locale`,`verified`) 
	    VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
	</string>
	<string name="sql_s_usr_uname">
	    SELECT * FROM `user` WHERE `userName` = ?
	</string>
	<string name="sql_s_usr_id">
	    SELECT * FROM `user` WHERE `id` = ?
	</string>
	<string name="upd_user">
	    UPDATE user SET `id`=?,`userName`=?,`password`=?,`FBId`=?,`firstName`=?,`lastName`=?,`name`=?,`timeZone`=?,
	    `email`=?,`avatar`=?,`gender`=?,`age`=?,`birthday`=?,`countryId`=?,`homeId`=?,`occupation`=?,`amzExp`=?,`toDo`=?,
	    `philosophy`=?,`friendsDesc`=?,`interest`=?,`littleSecret`=?,`langId`=?,`locale`=?,`verified`=? WHERE `id`=?
	</string>

	<!-- login user -->
	<string name="add_luser">
	    INSERT OR REPLACE INTO `login_user`(`id`,`userName`,`password`,`FBId`,`firstName`,`lastName`,`name`,`timeZone`,`email`,`avatar`,
	    `gender`,`age`,`birthday`,`countryId`,`homeId`,`occupation`,`amzExp`,`toDo`,`philosophy`,`friendsDesc`,
	    `interest`,`littleSecret`,`langId`,`locale`,`verified`) VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
	</string>
	<string name="load_luser_emails">
	    SELECT `email` FROM `login_user` WHERE `password` != NULL ORDER BY `id`
	</string>
	<string name="upd_luser">
	    UPDATE login_user SET `id`=?,`userName`=?,`password`=?,`FBId`=?,`firstName`=?,`lastName`=?,`name`=?,`timeZone`=?,
	    `email`=?,`avatar`=?,`gender`=?,`age`=?,`birthday`=?,`countryId`=?,`homeId`=?,`occupation`=?,`amzExp`=?,`toDo`=?,
	    `philosophy`=?,`friendsDesc`=?,`interest`=?,`littleSecret`=?,`langId`=?,`locale`=?,`verified`=? WHERE `id`=?
	</string>
			
	<!-- category -->
	<string name="add_category">
	    INSERT INTO category (`id`, `name`) VALUES (?, ?)
	</string>
	<string name="load_category_by_id">
	    SELECT `id`,`name` FROM category WHERE `id` = ? 
	</string>
	<string name="load_category_by_name">
	    SELECT `id`,`name` FROM category WHERE `name` = ? 
	</string>
		
	<!-- group -->
	<string name="add_group">
	    INSERT INTO group (`id`, `name`) VALUES (?, ?)
	</string>
	<string name="load_group_by_id">
	    SELECT `id`,`name` FROM group WHERE `id` = ? 
	</string>
	<string name="load_group_by_name">
	    SELECT `id`,`name` FROM group WHERE `name` = ? 
	</string>	
	
	<!-- user tag -->
	<string name="add_utag">
	    INSERT INTO user_tag (`id`, `name`) VALUES (?, ?)
	</string>
	<string name="load_utag_by_id">
	    SELECT `id`,`name` FROM user_tag WHERE `id` = ? 
	</string>
	<string name="load_utag_by_name">
	    SELECT `id`,`name` FROM user_tag WHERE `name` = ? 
	</string>
	
	<!-- tag -->
	<string name="add_tag">
	    INSERT INTO tag (`id`, `name`) VALUES (?, ?)
	</string>
	<string name="load_tag_by_id">
	    SELECT `id`,`name` FROM tag WHERE `id` = ? 
	</string>
	<string name="load_tag_by_name">
	    SELECT `id`,`name` FROM tag WHERE `name` = ?
	</string>
	
	<!-- country -->
	<string name="add_country">
	    INSERT INTO country (`id`, `name`, `region`) VALUES (?, ?, ?)
	</string>
	<string name="load_country_by_id">
	    SELECT `id`,`name`,`region` FROM country WHERE `id` = ? 
	</string>
</resources>
